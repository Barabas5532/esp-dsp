Espressif DSP Library Benchmarks
================================

The table bellow contains benchmarks of functions provided by ESP-DSP library. The values are CPU cycle counts taken to execute each of the functions. Values in "ESP32" column are for the optimized (assembly) implementation, values in "ANSI C" column are for the non-optimized implementation.

+----------------------------------------------------------+----------+----------+
| Function name and arguments                              | CPU cycles          |
+----------------------------------------------------------+----------+----------+
|                                                          | ESP32    | ANSI C   |
+==========================================================+==========+==========+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **Dot Product**                                          |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_dotprod_f32 for N=256 points                        |     1057 |     1325 |
+----------------------------------------------------------+----------+----------+
| dsps_dotprode_f32 for N=256 points, with step 1          |     1318 |     2851 |
+----------------------------------------------------------+----------+----------+
| dsps_dotprod_s16 for N=256 points                        |      447 |     3648 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **FIR Filters**                                          |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_fir_f32 1024 input samples and 256 coefficients     |  1079314 |  2150687 |
+----------------------------------------------------------+----------+----------+
| dsps_fird_f32 1024 samples, 256 coeffs and decimation 4  |   350248 |   614481 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **FFTs Radix-2 32 bit Floating Point**                   |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_fc32 for  64 complex points                   |     5451 |     7037 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_fc32 for 128 complex points                   |    12400 |    15907 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_fc32 for 256 complex points                   |    27830 |    36194 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_fc32 for 512 complex points                   |    61753 |    78878 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_fc32 for 1024 complex points                  |   135742 |   172665 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **FFTs Radix-4 32 bit Floating Point**                   |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_fft4r_fc32 for  64 complex points                   |     3124 |     5186 |
+----------------------------------------------------------+----------+----------+
| dsps_fft4r_fc32 for 256 complex points                   |    15552 |    26114 |
+----------------------------------------------------------+----------+----------+
| dsps_fft4r_fc32 for 1024 complex points                  |    75547 |   127540 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **FFTs 16 bit Fixed Point**                              |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_sc16 for  64 complex points                   |     9106 |    14574 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_sc16 for 128 complex points                   |    20216 |    33119 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_sc16 for 256 complex points                   |    45755 |    74290 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_sc16 for 512 complex points                   |   102208 |   164802 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_sc16 for 1024 complex points                  |   226336 |   362194 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **IIR Filters**                                          |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_biquad_f32 - biquad filter for 1024 input samples   |    17451 |    24613 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **Matrix Multiplication**                                |          |          |
+----------------------------------------------------------+----------+----------+
| dspm_mult_f32 - C[16,16] = A[16,16]*B[16,16];            |    24670 |    51501 |
+----------------------------------------------------------+----------+----------+
| dspm_mult_s16 - C[16,16] = A[16,16]*B[16,16];            |    24705 |    83697 |
+----------------------------------------------------------+----------+----------+
| dspm_mult_3x3x1_f32 - C[3,1] = A[3,3]*B[3,1];            |       79 |      226 |
+----------------------------------------------------------+----------+----------+
| dspm_mult_3x3x3_f32 - C[3,3] = A[3,3]*B[3,3];            |      211 |      489 |
+----------------------------------------------------------+----------+----------+
| dspm_mult_4x4x1_f32 - C[4,1] = A[4,4]*B[4,1];            |      114 |      334 |
+----------------------------------------------------------+----------+----------+
| dspm_mult_4x4x4_f32 - C[4,4] = A[4,4]*B[4,4];            |      405 |     1007 |
+----------------------------------------------------------+----------+----------+

The next table shows cycles for Esp32S3 CPU.

+----------------------------------------------------------+----------+----------+
| Function name and arguments                              | CPU cycles          |
+----------------------------------------------------------+----------+----------+
|                                                          | ESP32S3  | ANSI C   |
+==========================================================+==========+==========+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **Dot Product**                                          |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_dotprod_f32 for N=256 points                        |      448 |     3623 |
+----------------------------------------------------------+----------+----------+
| dsps_dotprode_f32 for N=256 points, with step 1          |     1497 |     3116 |
+----------------------------------------------------------+----------+----------+
| dsps_dotprod_s16 for N=256 points                        |      322 |     5925 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **FIR Filters**                                          |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_fir_f32 1024 input samples and 256 coefficients     |  1074225 |  4357765 |
+----------------------------------------------------------+----------+----------+
| dsps_fird_f32 1024 samples, 256 coeffs and decimation 4  |   347437 |  1114657 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **FFTs Radix-2 32 bit Floating Point**                   |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_fc32 for  64 complex points                   |     5142 |     8138 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_fc32 for 128 complex points                   |    11706 |    18584 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_fc32 for 256 complex points                   |    26303 |    41905 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_fc32 for 512 complex points                   |    58436 |    93364 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_fc32 for 1024 complex points                  |   128614 |   206018 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **FFTs Radix-4 32 bit Floating Point**                   |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_fft4r_fc32 for  64 complex points                   |     3174 |     5442 |
+----------------------------------------------------------+----------+----------+
| dsps_fft4r_fc32 for 256 complex points                   |    15789 |    27533 |
+----------------------------------------------------------+----------+----------+
| dsps_fft4r_fc32 for 1024 complex points                  |    76548 |   134580 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **FFTs 16 bit Fixed Point**                              |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_sc16 for  64 complex points                   |      792 |    14313 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_sc16 for 128 complex points                   |     1628 |    32713 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_sc16 for 256 complex points                   |     3536 |    73682 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_sc16 for 512 complex points                   |     7312 |   164083 |
+----------------------------------------------------------+----------+----------+
| dsps_fft2r_sc16 for 1024 complex points                  |    15748 |   361724 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **IIR Filters**                                          |          |          |
+----------------------------------------------------------+----------+----------+
| dsps_biquad_f32 - biquad filter for 1024 input samples   |    17458 |    34852 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **Matrix Multiplication**                                |          |          |
+----------------------------------------------------------+----------+----------+
| dspm_mult_f32 - C[16,16] = A[16,16]*B[16,16];            |     6298 |    70219 |
+----------------------------------------------------------+----------+----------+
| dspm_mult_s16 - C[16,16] = A[16,16]*B[16,16];            |     1847 |    90301 |
+----------------------------------------------------------+----------+----------+
| dspm_mult_3x3x1_f32 - C[3,1] = A[3,3]*B[3,1];            |       87 |      253 |
+----------------------------------------------------------+----------+----------+
| dspm_mult_3x3x3_f32 - C[3,3] = A[3,3]*B[3,3];            |      216 |      735 |
+----------------------------------------------------------+----------+----------+
| dspm_mult_4x4x1_f32 - C[4,1] = A[4,4]*B[4,1];            |      190 |      391 |
+----------------------------------------------------------+----------+----------+
| dspm_mult_4x4x4_f32 - C[4,4] = A[4,4]*B[4,4];            |      327 |     1219 |
+----------------------------------------------------------+----------+----------+
|                                                          |          |          |
+----------------------------------------------------------+----------+----------+
| **Image processing prototypes**                          |          |          |
+----------------------------------------------------------+----------+----------+
| dspi_dotprod_s8/u8 - dotproduct of two images 16x16      |      178 |     3437 |
+----------------------------------------------------------+----------+----------+
| dspi_dotprod_off_s8/u8 - dotproduct of two images 16x16  |      244 |     3959 |
+----------------------------------------------------------+----------+----------+
| dspi_dotprod_s8/u8- dotproduct of two images 64x64       |      872 |    50381 |
+----------------------------------------------------------+----------+----------+
| dspi_dotprod_off_s8/u8 - dotproduct of two images 64x64  |     1013 |    58814 |
+----------------------------------------------------------+----------+----------+
| dspi_dotprod_s16/u16 - dotproduct of two images 8x8      |      161 |     1526 |
+----------------------------------------------------------+----------+----------+
| dspi_dotprod_off_s16/u16 - dotproduct of two images 8x8  |      196 |     1730 |
+----------------------------------------------------------+----------+----------+
| dspi_dotprod_s16 - dotproduct of two images 32x32        |      425 |    21110 |
+----------------------------------------------------------+----------+----------+
| dspi_dotprod_off_s16/u16 - dotproduct of two images 32x32|      578 |    24219 |
+----------------------------------------------------------+----------+----------+

The benchmark test could be reproduced by executing test cases found in :repo_file:`test/test_dsp.c`.
